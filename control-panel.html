<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
	<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=0">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <title>Lower thirds control panel</title>
	<link rel="stylesheet" href="../common/css/style-001.css">
	<script src="../common/js/jquery.js"></script>
  </head>
  <body class="lower-thirds-panel panel">
	<div class="static-panel-top">
		<input id="lower-thirds-name" placeholder="Spontantext">
		<button class="onethird" id="sender" onclick="function_send()">zeigen</button>
		<button class="onethird" id="sender" onclick="function_hide()">alles ausblenden</button>

		   <div style="clear:both"></div>
		   
		
</div>
	</div>
	<div class="panel-bottom">
		<h3>Bauchbinden</h3>
		<table id="schaltbar">
			<tr class="zeile">
				<td class="listText">
					<input class="inhalt" placeholder="Mod & Prediger" value=""></input>
				</td>
				<td class="listButtons">
					<button class="zeigen" id="sender" onclick="function_send()">zeigen</button>
				</td>
			</tr>
			<tr class="zeile">
				<td class="listText">
					<input class="inhalt" placeholder="Telefonnummer" value="0151 428 55055"></input>
				</td>
				<td class="listButtons">
					<button class="zeigen" id="sender" onclick="function_send()">zeigen</button>
				</td>
			</tr>
			<tr class="zeile">
				<td class="listText">
					<input class="inhalt" placeholder="Textstelle" value=""></input>
				</td>
				<td class="listButtons">
					<button class="zeigen" id="untertitel" onclick="function_send()">zeigen</button>
				</td>
			</tr>
			<tr class="zeile">
				<td class="listText">
					<div class="inhalt">Der Bibeltext und Du</input>
				</td>
				<td class="listButtons">
					<button class="zeigen" id="sender" onclick="function_send()">zeigen</button>
				</td>
			</tr>
			<tr class="zeile">
				<td class="listText">
					<div class="inhalt">Der Bibeltext und Ihr</input>
				</td>
				<td class="listButtons">
					<button class="zeigen" id="sender" onclick="function_send()">zeigen</button>
				</td>
			</tr>
		</table>
	<div>
	
	<script>
		cur_inhalt = "";
		cur_ut = "";
		$("#schaltbar tr td button ").click(function(){
			if($(this).id == "untertitel") {
				cur_ut=$(this).parent().parent().find("td").find("div").text();
				if(cur_ut == "") {cur_ut=$(this).parent().parent().find("td").find("input").val();}
				function_send();
			}
		cur_inhalt=$(this).parent().parent().find("td").find("div").text();
		if(cur_inhalt == "") {cur_inhalt=$(this).parent().parent().find("td").find("input").val();}
		function_send();
		//alert(cur_inhalt)
			//$("#lower-thirds-name:text").val(cur_inhalt);
		});
		var bc = new BroadcastChannel('obs-lower-thirds-channel');
		function function_send() {
			inhalt_to_send = cur_inhalt;
			ut_to_send = cur_ut;
			bc.postMessage(inhalt_to_send + '|' + ut_to_send + '|' + 'animateIn'); /* send */
		};
		function function_hide() {
			bc.postMessage('||animateOut'); /* send - only last parameter*/
		}
	</script>
	
  </body>
</html>