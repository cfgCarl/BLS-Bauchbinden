<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
	<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=0">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
	<link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" href="style-001.css">
    <title>Receiver demo</title>
	<script>
		var bc = new BroadcastChannel('obs-lower-thirds-channel');
		bc.onmessage = function (ev) {
			received_data=ev.data.split("|");
			document.getElementById("haupttext").innerHTML = received_data[0];
			document.getElementById("untertitel").innerHTML = received_data[1];
			animation = received_data[2];
		if (animation == 'animateIn') {
			document.getElementById('bauchbinde-hintergrund').hidden = false;
			document.getElementById('untertitel').hidden = false;
			document.getElementById('box').hidden = false;
			document.getElementById('box2').hidden = false;
			document.getElementById('haupttext').classList.remove("animateOut");
			document.getElementById('haupttext').classList.add("animateIn");
			document.getElementById("lower-third").classList.remove("animateOut");
			document.getElementById("lower-third").classList.add("animateIn");
		};
		if (animation == 'animateOut') {
			document.getElementById('bauchbinde-hintergrund').hidden = true;
			document.getElementById('untertitel').hidden = true;
			document.getElementById('box').hidden = true;
			document.getElementById('box2').hidden = true;
			document.getElementById('haupttext').classList.remove("animateIn");
			document.getElementById('haupttext').classList.add("animateOut");
			document.getElementById("lower-third").classList.remove("animateIn");
			document.getElementById("lower-third").classList.add("animateOut");
		};

		}
	</script>
  </head>
  <body class="browser-source lower-thirds">
	<div id="lower-third">
    	<div id="bauchbinde-hintergrund" class="bauchbinde-hintergrund">
			<img src="Bauchbinde_transparent.png">
			</div>
		<div id="haupttext" class="bb-Haupttext grosserText">
			Testtext
		</div>
		<div id="untertitel" class="bb-Untertitel kleinerText">
			untertitel
		</div>
		<div id="box" class="box"></div>
		<div id="box2" class="box2"></div>
			<!---<div class="right-block">
				<div id="name">Testname</div>
				<div id="function"></div>
			</div>-->
		</div>
	</div>
  </body>
</html>